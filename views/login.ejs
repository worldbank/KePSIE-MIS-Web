<!DOCTYPE html>

<!--[if IE 8]>
	<html lang="en" class="ie8 no-js"> <![endif]-->
<!--[if IE 9]>
	<html lang="en" class="ie9 no-js"> <![endif]-->
	<!--[if !IE]><!-->
	<html lang="en">
	<!--<![endif]-->
	<!-- BEGIN HEAD -->

	<head>
		<title>KePSIE - Login</title>
		<meta charset="utf-8"/>
		<title>World Bank | User Login </title>
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta content="width=device-width, initial-scale=1" name="viewport"/>
		<meta content="" name="description"/>
		<meta content="" name="author"/>
		
		<link href="<%=sails.config.assetURL%>/global/plugins/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css"/>
		<link href="<%=sails.config.assetURL%>/global/plugins/simple-line-icons/simple-line-icons.min.css" rel="stylesheet" type="text/css"/>
		<link href="<%=sails.config.assetURL%>/global/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
		<link href="<%=sails.config.assetURL%>/global/plugins/uniform/css/uniform.default.css" rel="stylesheet" type="text/css"/>
		<link href="<%=sails.config.assetURL%>/global/plugins/bootstrap-switch/css/bootstrap-switch.min.css" rel="stylesheet" type="text/css"/>
		<link href="<%=sails.config.assetURL%>/global/plugins/select2/css/select2.min.css" rel="stylesheet" type="text/css"/>
		<link href="<%=sails.config.assetURL%>/global/plugins/select2/css/select2-bootstrap.min.css" rel="stylesheet" type="text/css"/>
		<!-- END PAGE LEVEL PLUGINS -->
		<!-- BEGIN THEME GLOBAL STYLES -->
		<link href="<%=sails.config.assetURL%>/global/css/components.min.css" rel="stylesheet" id="style_components" type="text/css"/>
		<link href="<%=sails.config.assetURL%>/global/css/plugins.min.css" rel="stylesheet" type="text/css"/>
		<link href="<%=sails.config.assetURL%>/pages/css/login.min.css" rel="stylesheet" type="text/css"/>
		<link rel="shortcut icon" href="<%=sails.config.assetURL%>/wb-favicon.png"/>
		<!-- END PAGE LEVEL STYLES -->
		<!-- BEGIN THEME LAYOUT STYLES -->
		<!-- END THEME LAYOUT STYLES -->
		
		<script src="<%=sails.config.assetURL%>/global/plugins/jquery.min.js" type="text/javascript"></script>
		<script src="<%=sails.config.assetURL%>/global/plugins/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
		<script src="<%=sails.config.assetURL%>/global/plugins/js.cookie.min.js" type="text/javascript"></script>
		<script src="<%=sails.config.assetURL%>/global/plugins/bootstrap-hover-dropdown/bootstrap-hover-dropdown.min.js"
		type="text/javascript"></script>
		<script src="<%=sails.config.assetURL%>/global/plugins/jquery-slimscroll/jquery.slimscroll.min.js" type="text/javascript"></script>
		<script src="<%=sails.config.assetURL%>/global/plugins/jquery.blockui.min.js" type="text/javascript"></script>
		<script src="<%=sails.config.assetURL%>/global/plugins/uniform/jquery.uniform.min.js" type="text/javascript"></script>
		<script src="<%=sails.config.assetURL%>/global/plugins/bootstrap-switch/js/bootstrap-switch.min.js" type="text/javascript"></script>
		<!-- END CORE PLUGINS -->
		<!-- BEGIN PAGE LEVEL PLUGINS -->
		<script src="<%=sails.config.assetURL%>/global/plugins/jquery-validation/js/jquery.validate.min.js" type="text/javascript"></script>
		<script src="<%=sails.config.assetURL%>/global/plugins/jquery-validation/js/additional-methods.min.js" type="text/javascript"></script>
		<script src="<%=sails.config.assetURL%>/global/plugins/select2/js/select2.full.min.js" type="text/javascript"></script>
		
		<!-- END PAGE LEVEL PLUGINS -->
		<!-- BEGIN THEME GLOBAL SCRIPTS -->
		<script src="<%=sails.config.assetURL%>/global/scripts/app.min.js" type="text/javascript"></script>
		<!-- END THEME GLOBAL SCRIPTS -->
		<!-- BEGIN PAGE LEVEL SCRIPTS -->
		
		<script src="<%=sails.config.assetURL%>/js/angular.min.js"></script>

		<script>
			var routesPrefix = "<%=sails.config.routesPrefix%>";
		</script>
	</head>
	<!-- END HEAD -->

	<body class="login">
		<!-- BEGIN LOGO -->
		<div class="logo">

			<img src="<%=sails.config.assetURL%>/pages/img/World_Bank_logo.png" alt=""/>
		</div>
		<!-- END LOGO -->
		<!-- BEGIN LOGIN -->
		<div class="content" ng-app="myApp" ng-controller="myCtrl">
			<!-- BEGIN LOGIN FORM -->
			<form autocomplete="cxcxc" class="login-form" name="loginForm" ng-submit="login()"  novalidate>
				<h3 class="form-title font-green">Sign In</h3>
				<div class="alert alert-danger  ng-hide" ng-show="invalid ">
					<button class="close" ng-click="closeAlert()"></button>
					<span class="help-block " id="focus1" style="color:#a94442">Invalid Username or Password</span>
				</div>

				<div class="form-group">
					<!--ie8, ie9 does not support html5 placeholder, so we just show field title for that-->
					<label class="control-label visible-ie8 visible-ie9">Username</label>
					<input id="user_name" class="form-control form-control-solid placeholder-no-fix" type="text"
					autocomplete="off" placeholder="Username" ng-model="username" name="username"
					ng-class="{ 'has-error' : loginForm.username.$invalid && !loginForm.username.$pristine }" required/>


					<p ng-show="(loginForm.username.$touched || submitted) && loginForm.username.$error.required"
					class="help-block ng-hide" style="color:#a94442">Username is required.</p></div>
					<div class="form-group">
						<label class="control-label visible-ie8 visible-ie9">Password</label>
						<input id="user_password" class="form-control form-control-solid placeholder-no-fix" type="password" 
						ng-keyup="$event.keyCode == 13 ? login() : null"
						autocomplete="off" placeholder="Password" ng-model="password" name="password"
						ng-class="{ 'has-error' : loginForm.password.$invalid && !loginForm.password.$pristine }" required/>
						<p ng-show="(loginForm.password.$touched || submitted) && loginForm.password.$error.required"
						class="help-block ng-hide" style="color:#a94442">Password is required.</p></div>
						<div class="form-actions">
							<button type="submit" id="tmpfocus"  class="btn green uppercase">Login</button>
							<a href="javascript:;" id="forget-password" class="forget-password">Forgot Password?</a>
							<input type="hidden" name="_csrf" value="<%= _csrf %>"/>

						</div>


					</form>
					<!-- END LOGIN FORM -->
					<form class="forget-form" name="emailForm" novalidate style="display: none">
						<h3 class="font-green">Forget Password ?</h3>
						<p> Enter your e-mail address below to reset your password. </p>
						<div class="form-group">
							<input class="form-control placeholder-no-fix" type="email" autocomplete="off" placeholder="Email" name="forgetEmail" ng-model="forgetEmail"  ng-pattern="/^[+a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/i" required /> 
							 <div  ng-messages="emailForm.forgetEmail.$error">

                  <div ng-message="pattern" style="color:#a94442">Email is invalid.</div>
                </div>
                   <p class=" ng-hide" ng-show="(emailForm.forgetEmail.$touched || emailsubmitted)   && emailForm.forgetEmail.$error.required"  style="color:#a94442">Email is required.</p>
							</div>
							<div class="form-actions">
								<button type="button" id="back-btn" class="btn btn-default">Back</button>
								<button type="submit" id="submitEmail" ng-click="forgetPassword(emailForm)" class="btn btn-success uppercase pull-right">Submit</button>
							</div>
						</form>
						<form class="emailstatus-form"  style="display: none">
						
						<p id="validEmail" ><strong class="text-success">Success! </strong> We've e-mailed you a link for setting your password to the e-mail address you submitted. You should be receiving it shortly.. </p>
						<p id="invalidEmail"> Invalid e-mail address. </p>
						<div class="form-actions">
							<button type="button" id="tryagain-btn"  class="btn green ">Try Again</button>
							</div>
						</form>

					</div>
					<div class="copyright"> Â© 2017 The World Bank Group, All Rights Reserved.</div>

<script type="text/javascript">
		 	$( document ).ready(function() {
				$('.emailstatus-form').hide();
		 		$('#tryagain-btn').hide();
			});
			jQuery('#forget-password').click(function() {
		        jQuery('.login-form').hide();
		        jQuery('.emailstatus-form').hide();
		        jQuery('.forget-form').show();
		    });
			jQuery('#back-btn').click(function() {
		        jQuery('.login-form').show();
		        jQuery('.emailstatus-form').hide();
		        jQuery('.forget-form').hide();
		    });
		</script>

<script src="<%=sails.config.assetURL%>/js/message-angular.min.js"></script>
<script src="<%=sails.config.assetURL%>/app/LoginCtrl.js" type="text/javascript"></script>
<!-- END PAGE LEVEL SCRIPTS -->
<!-- BEGIN THEME LAYOUT SCRIPTS -->
<!-- END THEME LAYOUT SCRIPTS -->
</body>

</html>